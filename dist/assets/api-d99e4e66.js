(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function s(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(t){if(t.ep)return;t.ep=!0;const r=s(t);fetch(t.href,r)}})();const n="http://localhost:3000";function i(e,o="GET",s=null){let a={method:o};return s&&(a.headers={"Content-Type":"application/json"},a.body=JSON.stringify(s)),fetch(n+e,a).catch(t=>(console.log(`Erro em ${o} ${e}`,t),Promise.reject(t)))}function l(e){return fetch("http://localhost:3000/categorias",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(()=>(alert(`Categoria ${e.nome} cadastrada com sucesso.`),localStorage.removeItem("categorias"),e)).catch(o=>Promise.reject())}function u(e){try{fetch("http://localhost:3000/produtos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),alert(`Produto ${e.nome} cadastrado com sucesso.`)}catch{alert("Erro ao cadastrar produto.")}}function d(e){try{fetch("http://localhost:3000/clientes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),alert(`Cliente ${e.nome} portador do CPF: ${e.cpf}, cadastrado(a) com sucesso.`)}catch{alert("Erro ao tentar castrar cliente, tente novamente mais tarde.")}}async function h(){try{return await(await fetch("http://localhost:3000/categorias")).json()}catch{console.error("Não foi possível recuperar as categorias.")}}async function f(){try{return await(await fetch("http://localhost:3000/produtos")).json()}catch{console.error("Não foi possível recuperar os produtos.")}}function p(e){return fetch(`http://localhost:3000/categorias/${e}`,{method:"DELETE"}).then(o=>{localStorage.removeItem("categorias"),console.log(`Categoria ${e} removida.`)}).catch(o=>Promise.reject("Erro..."))}function m(e){return fetch(`http://localhost:3000/categorias/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(()=>(localStorage.removeItem("categorias"),e)).catch(()=>Promise.reject("Não foi possivel alterar categoria, tente novamente mais tarde."))}function g(e,o){return i(`/categorias/${e}`,"PATCH",{status:o}).then(s=>localStorage.removeItem("categorias"))}async function y(e){let o=`https://viacep.com.br/ws/${e}/json/`;return await(await fetch(o)).json()}export{h as a,f as b,m as c,g as d,p as e,u as f,y as g,d as h,l as s};
